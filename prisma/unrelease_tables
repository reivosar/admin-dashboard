
model ChannelMember {
  id             Int             @id @default(autoincrement())
  channel_id     Int             
  user_id        Int             
  can_post       Boolean         @default(false) 
  can_view       Boolean         @default(true)  
  can_edit       Boolean         @default(false) 
  can_delete     Boolean         @default(false) 
  joined_at      DateTime        @default(now()) 
  channel        MessageChannel  @relation(fields: [channel_id], references: [id])
  user           User            @relation(fields: [user_id], references: [id])
  @@unique([channel_id, user_id]) 
  @@map("channel_members")
}

model Message {
  id         Int           @id @default(autoincrement())
  userId     Int          
  created_at DateTime      @default(now())
  author     User          @relation(fields: [userId], references: [id]) 
  contents   Content[]     
  @@map("messages")
}

model MessageContent {
  id          Int            @id @default(autoincrement())
  messageId   Int
  contentType ContentType    
  content     Json           
  message     Message        @relation(fields: [messageId], references: [id])
  @@map("message_contents")
}

enum ContentType {
  text
  link
  image
  video
}